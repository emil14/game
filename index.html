<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Babylon.js RPG</title>
    <link rel="stylesheet" href="src/style.css" />
    <style>
      /* Basic styling for the stamina bar */
      .stamina-bar-container {
        width: 200px; /* Increased width */
        height: 25px; /* Increased height */
        background-color: #333; /* Darker background for better contrast potentially */
        border-radius: 5px; /* Slightly larger radius */
        margin-top: 5px; /* Adjusted margin for when it's below health */
        overflow: hidden;
        position: relative; /* For positioning text inside */
        display: flex; /* For centering text */
        align-items: center; /* For centering text vertically */
        justify-content: center; /* For centering text horizontally */
      }
      .stamina-bar-fill {
        height: 100%;
        background-color: #4caf50;
        width: 100%;
        border-radius: 5px; /* Match parent's border radius */
        transition: width 0.1s linear;
        position: absolute; /* Position behind text */
        top: 0;
        left: 0;
      }
      .ui-container {
        position: absolute;
        top: 10px;
        left: 10px;
        color: white;
        background-color: rgba(0, 0, 0, 0.5);
        padding: 5px;
        font-family: sans-serif;
        border-radius: 5px;
      }
      .fps-display {
        /* New class for FPS specific styling */
        position: absolute;
        top: 10px;
        right: 10px; /* Moved to top-right */
        color: white;
        background-color: rgba(0, 0, 0, 0.5);
        padding: 5px;
        font-family: sans-serif;
        border-radius: 5px;
      }
      .stamina-text {
        font-size: 0.9em;
        color: white; /* Ensure text is white */
        z-index: 1; /* Ensure text is on top of the fill */
        position: relative; /* To ensure z-index works as expected */
        text-shadow: 1px 1px 2px black; /* Add shadow for better visibility */
      }
      /* Basic styling for the health bar */
      .health-bar-container {
        width: 200px;
        height: 25px;
        background-color: #333;
        border-radius: 5px;
        margin-top: 5px; /* Adjusted margin for when it's on top */
        overflow: hidden;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .health-bar-fill {
        height: 100%;
        background-color: #e74c3c; /* Red color for health */
        width: 100%; /* Start full */
        border-radius: 5px;
        transition: width 0.1s linear;
        position: absolute;
        top: 0;
        left: 0;
      }
      .health-text {
        font-size: 0.9em;
        color: white;
        z-index: 1;
        position: relative;
        text-shadow: 1px 1px 2px black;
      }
      /* Styling for the blood screen effect */
      .blood-screen-effect {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(255, 0, 0, 0); /* Initially transparent */
        opacity: 0;
        pointer-events: none; /* So it doesn't block interactions */
        z-index: 1000; /* Ensure it's on top */
        transition: opacity 0.2s ease-out; /* Smooth fade out */
      }
    </style>
  </head>
  <body>
    <div id="app">
      <canvas id="renderCanvas"></canvas>
    </div>
    <div class="crosshair"></div>
    <div id="bloodScreenEffect" class="blood-screen-effect"></div>
    <div class="ui-container">
      <div>
        <div class="health-bar-container">
          <span id="healthText" class="health-text">‚ù§Ô∏è 100/100</span>
          <div id="healthBarFill" class="health-bar-fill"></div>
        </div>
        <div class="stamina-bar-container">
          <span id="staminaText" class="stamina-text">üëü 100/100</span>
          <div id="staminaBarFill" class="stamina-bar-fill"></div>
        </div>
      </div>
    </div>
    <div id="fpsDisplay" class="fps-display">FPS: 0</div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
